---
// GoogleAnalytics.astro - Google Analytics 4 integration
// Usage: Add <GoogleAnalytics /> to your BaseLayout.astro
// Set environment variable: PUBLIC_GA_MEASUREMENT_ID

const measurementId = import.meta.env.PUBLIC_GA_MEASUREMENT_ID;
---

{measurementId && (
	<script is:inline>
		// Google Analytics 4
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', '{measurementId}');
	</script>
)}

{measurementId && (
	<script is:inline src={`https://www.googletagmanager.com/gtag/js?id=${measurementId}`}></script>
)}
